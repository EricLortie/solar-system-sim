<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solar System Simulator</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <canvas id="canvas"></canvas>
    <canvas id="mini-map-canvas" width="150" height="150" style="display: none;"></canvas>

    <div class="toolbar">
        <button class="toolbar-btn" id="screenshot-btn" title="Take Screenshot">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                <circle cx="8.5" cy="8.5" r="1.5"></circle>
                <polyline points="21 15 16 10 5 21"></polyline>
            </svg>
            Screenshot
        </button>
        <button class="toolbar-btn" id="fullscreen-btn" title="Toggle Fullscreen">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="15 3 21 3 21 9"></polyline>
                <polyline points="9 21 3 21 3 15"></polyline>
                <line x1="21" y1="3" x2="14" y2="10"></line>
                <line x1="3" y1="21" x2="10" y2="14"></line>
            </svg>
            Fullscreen
        </button>
    </div>

    <div id="controls" class="panel">
        <h2>Solar System Generator</h2>

        <input type="text" class="seed-input" id="seed-input" placeholder="Enter seed (e.g., 'sol')">
        <button id="generate-btn" class="btn">Generate New System</button>

        <div class="section" id="section-presets-systems">
            <div class="section-header">
                <h3>Real Systems</h3>
                <div class="section-toggle">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </div>
            </div>
            <div class="section-content">
                <div class="preset-grid">
                    <button class="preset-btn system-preset-btn" data-system="sol">Sol System</button>
                    <button class="preset-btn system-preset-btn" data-system="trappist-1">TRAPPIST-1</button>
                    <button class="preset-btn system-preset-btn" data-system="kepler-90">Kepler-90</button>
                </div>
            </div>
        </div>

        <div class="slider-group">
            <div class="slider-label">
                <span>Time Speed</span>
                <span id="speed-value">1.0x</span>
            </div>
            <input type="range" class="slider" id="speed-slider" min="0" max="100" value="20">
        </div>

        <div class="section" id="section-display">
            <div class="section-header">
                <h3>Display Options</h3>
                <div class="section-toggle">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </div>
            </div>
            <div class="section-content">
                <div class="toggle-group">
                    <div class="toggle-item">
                        <span>Show Orbits</span>
                        <div class="toggle-switch active" data-toggle="orbits"></div>
                    </div>
                    <div class="toggle-item">
                        <span>Show Labels</span>
                        <div class="toggle-switch active" data-toggle="labels"></div>
                    </div>
                    <div class="toggle-item">
                        <span>Show Moons</span>
                        <div class="toggle-switch active" data-toggle="moons"></div>
                    </div>
                    <div class="toggle-item">
                        <span>Show Asteroids</span>
                        <div class="toggle-switch active" data-toggle="asteroids"></div>
                    </div>
                    <div class="toggle-item">
                        <span>Show Comets</span>
                        <div class="toggle-switch active" data-toggle="comets"></div>
                    </div>
                    <div class="toggle-item">
                        <span>Show Habitable Zone</span>
                        <div class="toggle-switch" data-toggle="habitable"></div>
                    </div>
                    <div class="toggle-item">
                        <span>Show Trails</span>
                        <div class="toggle-switch" data-toggle="trails"></div>
                    </div>
                    <div class="toggle-item">
                        <span>Show Mini-Map</span>
                        <div class="toggle-switch" data-toggle="minimap"></div>
                    </div>
                    <div class="toggle-item">
                        <span>Show Interstellar Objects</span>
                        <div class="toggle-switch active" data-toggle="interstellar"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section collapsed" id="section-config">
            <div class="section-header">
                <h3>Generation Config</h3>
                <div class="section-toggle">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </div>
            </div>
            <div class="section-content">
                <div class="config-group">
                    <div class="config-row">
                        <span>Min Planets</span>
                        <input type="number" class="config-input" id="min-planets" value="3" min="1" max="15">
                    </div>
                    <div class="config-row">
                        <span>Max Planets</span>
                        <input type="number" class="config-input" id="max-planets" value="12" min="1" max="20">
                    </div>
                    <div class="config-row">
                        <span>Max Moons</span>
                        <input type="number" class="config-input" id="max-moons" value="8" min="0" max="20">
                    </div>
                    <div class="config-row">
                        <span>Binary Star %</span>
                        <input type="number" class="config-input" id="binary-chance" value="20" min="0" max="100">
                    </div>
                </div>
            </div>
        </div>

        <button id="reset-view-btn" class="btn btn-secondary">Reset View</button>
    </div>

    <div id="view-controls" class="panel">
        <h2>View Controls</h2>

        <div class="section" id="section-camera">
            <div class="section-header">
                <h3>Camera</h3>
                <div class="section-toggle">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </div>
            </div>
            <div class="section-content">
                <div class="slider-group">
                    <div class="slider-label">
                        <span>Vertical Tilt</span>
                        <span id="tilt-value">0°</span>
                    </div>
                    <input type="range" class="slider" id="tilt-slider" min="-60" max="60" value="0">
                </div>

                <div class="slider-group">
                    <div class="slider-label">
                        <span>Rotation</span>
                        <span id="rotation-value">0°</span>
                    </div>
                    <input type="range" class="slider" id="rotation-slider" min="-180" max="180" value="0">
                </div>
            </div>
        </div>

        <div class="section" id="section-presets">
            <div class="section-header">
                <h3>Preset Views</h3>
                <div class="section-toggle">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </div>
            </div>
            <div class="section-content">
                <div class="preset-grid">
                    <button class="preset-btn" data-preset="system">Full System</button>
                    <button class="preset-btn" data-preset="top">Top Down</button>
                    <button class="preset-btn" data-preset="angled">Angled</button>
                    <button class="preset-btn" data-preset="edge">Edge On</button>
                    <button class="preset-btn" data-preset="inner">Inner Planets</button>
                    <button class="preset-btn" data-preset="outer">Outer Planets</button>
                    <button class="preset-btn" data-preset="star">Star Close-up</button>
                    <button class="preset-btn" data-preset="random">Random Planet</button>
                </div>
            </div>
        </div>

        <div class="section collapsed" id="section-cinematic">
            <div class="section-header">
                <h3>Cinematic Mode</h3>
                <div class="section-toggle">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </div>
            </div>
            <div class="section-content">
                <button id="cinematic-btn" class="btn">Start Cinematic</button>
                <div class="slider-group">
                    <div class="slider-label">
                        <span>Scene Duration</span>
                        <span id="scene-duration-value">8s</span>
                    </div>
                    <input type="range" class="slider" id="scene-duration-slider" min="3" max="20" value="8">
                </div>
                <div id="cinematic-status" class="cinematic-indicator">
                    <div class="cinematic-dot"></div>
                    <span>Cinematic Off</span>
                </div>
            </div>
        </div>
    </div>

    <div id="info-panel" class="panel">
        <h2>System Information</h2>

        <div class="section" id="section-star">
            <div class="section-header">
                <h3>Star Details</h3>
                <div class="section-toggle">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </div>
            </div>
            <div class="section-content">
                <div id="star-info"></div>
                <div id="system-stats"></div>
            </div>
        </div>

        <div class="section" id="section-planets">
            <div class="section-header">
                <h3>Planets</h3>
                <div class="section-toggle">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </div>
            </div>
            <div class="section-content">
                <div id="planet-list" class="planet-list"></div>
            </div>
        </div>

        <div class="section collapsed" id="section-interstellar">
            <div class="section-header">
                <h3>Interstellar Visitors</h3>
                <div class="section-toggle">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </div>
            </div>
            <div class="section-content">
                <div class="info-item"><span>No active visitors</span></div>
            </div>
        </div>

        <div id="selected-info" class="section" style="display: none;">
            <div class="section-header">
                <h3 id="selected-title">Selected Object</h3>
                <div class="section-toggle">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </div>
            </div>
            <div class="section-content">
                <div id="selected-details"></div>
            </div>
        </div>
    </div>

    <!-- Mobile Panel Toggle Buttons -->
    <button class="panel-toggle" id="toggle-controls" title="Generator">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"></path>
        </svg>
    </button>
    <button class="panel-toggle" id="toggle-view" title="Camera">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path>
            <circle cx="12" cy="13" r="4"></circle>
        </svg>
    </button>
    <button class="panel-toggle" id="toggle-info" title="Info">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="12" y1="16" x2="12" y2="12"></line>
            <line x1="12" y1="8" x2="12.01" y2="8"></line>
        </svg>
    </button>

    <div id="help-text">
        Scroll/Pinch to zoom | Drag to pan | Click/Tap planet to select | Double-click to focus | C or Space for Cinematic | F for Fullscreen
    </div>

    <div class="bottom-bar">
        <div class="time-display">
            <span id="time-display">Year 0, Day 0</span>
        </div>
        <div class="scale-display">
            <div class="scale-bar"></div>
            <span id="scale-value">1 AU</span>
        </div>
        <div>Zoom: <span id="zoom-level">100%</span></div>
    </div>

    <div id="mini-map">
        <canvas id="mini-map-canvas" width="150" height="150"></canvas>
    </div>

    <script type="module" src="js/main.js"></script>
</body>
</html>
